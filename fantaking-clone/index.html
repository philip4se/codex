<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>판타킹 for Kakao - RTS 전략 게임</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="game-header">
            <div class="header-content">
                <h1>🏰 판타킹</h1>
                <div class="user-info">
                    <div class="resources">
                        <span class="gold">💰 골드: <span id="gold">5000</span></span>
                        <span class="gem">💎 보석: <span id="gem">50</span></span>
                        <span class="power">⚡ 파워: <span id="power">0</span></span>
                    </div>
                    <div class="race-info">
                        <span>종족: <span id="current-race">미선택</span></span>
                    </div>
                </div>
            </div>
            <nav class="main-nav">
                <button class="nav-btn active" data-page="home">홈</button>
                <button class="nav-btn" data-page="campaign">캠페인</button>
                <button class="nav-btn" data-page="invasion">침공</button>
                <button class="nav-btn" data-page="survival">서바이벌</button>
                <button class="nav-btn" data-page="raid">레이드</button>
                <button class="nav-btn" data-page="units">병력</button>
                <button class="nav-btn" data-page="items">아이템</button>
            </nav>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Home Page -->
            <div id="home-page" class="page active">
                <div class="welcome-section">
                    <h2>판타킹에 오신 것을 환영합니다!</h2>

                    <!-- Race Selection -->
                    <div id="race-selection" class="race-selection">
                        <h3>종족을 선택하세요</h3>
                        <div class="race-cards">
                            <div class="race-card" data-race="human">
                                <div class="race-icon">⚔️</div>
                                <h4>인간 (Human)</h4>
                                <p class="race-desc">강력한 공격력과 높은 체력</p>
                                <ul class="race-stats">
                                    <li>공격력: ★★★★★</li>
                                    <li>체력: ★★★★★</li>
                                    <li>속도: ★★★</li>
                                    <li>특성: 정면 돌파</li>
                                </ul>
                                <button class="select-race-btn" onclick="selectRace('human')">선택</button>
                            </div>
                            <div class="race-card" data-race="elf">
                                <div class="race-icon">🏹</div>
                                <h4>엘프 (Elf)</h4>
                                <p class="race-desc">빠른 이동속도와 높은 민첩성</p>
                                <ul class="race-stats">
                                    <li>공격력: ★★★</li>
                                    <li>체력: ★★★</li>
                                    <li>속도: ★★★★★</li>
                                    <li>특성: 치명타</li>
                                </ul>
                                <button class="select-race-btn" onclick="selectRace('elf')">선택</button>
                            </div>
                            <div class="race-card" data-race="undead">
                                <div class="race-icon">💀</div>
                                <h4>언데드 (Undead)</h4>
                                <p class="race-desc">강력한 마법과 특수 능력</p>
                                <ul class="race-stats">
                                    <li>공격력: ★★★★</li>
                                    <li>체력: ★★★</li>
                                    <li>마법: ★★★★★</li>
                                    <li>특성: 마법 특화</li>
                                </ul>
                                <button class="select-race-btn" onclick="selectRace('undead')">선택</button>
                            </div>
                        </div>
                    </div>

                    <!-- Game Stats -->
                    <div id="game-stats" class="stats-grid" style="display: none;">
                        <div class="stat-card">
                            <h3>총 전투력</h3>
                            <p class="stat-value" id="total-power">0</p>
                        </div>
                        <div class="stat-card">
                            <h3>승리</h3>
                            <p class="stat-value" id="wins">0</p>
                        </div>
                        <div class="stat-card">
                            <h3>패배</h3>
                            <p class="stat-value" id="losses">0</p>
                        </div>
                        <div class="stat-card">
                            <h3>레벨</h3>
                            <p class="stat-value" id="player-level">1</p>
                        </div>
                    </div>

                    <div id="quick-actions" class="quick-actions" style="display: none;">
                        <button class="action-btn" onclick="navigateTo('campaign')">
                            🎯 캠페인 시작
                        </button>
                        <button class="action-btn" onclick="navigateTo('invasion')">
                            ⚔️ 침공 모드
                        </button>
                        <button class="action-btn" onclick="navigateTo('units')">
                            🛡️ 병력 관리
                        </button>
                    </div>
                </div>
            </div>

            <!-- Campaign Page -->
            <div id="campaign-page" class="page">
                <h2>캠페인</h2>
                <div class="stage-list" id="stage-list">
                    <!-- Stages will be dynamically generated -->
                </div>
            </div>

            <!-- Battle Page -->
            <div id="battle-page" class="page">
                <div class="battle-container">
                    <div class="battle-header">
                        <h2>전투 진행 중</h2>
                        <div class="battle-stats">
                            <div>아군 체력: <span id="player-hp">100</span>%</div>
                            <div>적군 체력: <span id="enemy-hp">100</span>%</div>
                        </div>
                    </div>

                    <!-- Battle Map -->
                    <div class="battle-map" id="battle-map">
                        <!-- Player Base -->
                        <div class="base player-base" id="player-base" style="left: 5%; top: 50%;">
                            <div class="base-icon">🏰</div>
                            <div class="base-hp">
                                <div class="hp-bar">
                                    <div class="hp-fill" style="width: 100%;"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Enemy Base -->
                        <div class="base enemy-base" id="enemy-base" style="right: 5%; top: 50%;">
                            <div class="base-icon">🏯</div>
                            <div class="base-hp">
                                <div class="hp-bar">
                                    <div class="hp-fill" style="width: 100%;"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Outposts will be dynamically generated -->
                        <div id="outposts-container"></div>

                        <!-- Units will be dynamically generated -->
                        <div id="units-container"></div>
                    </div>

                    <!-- Magic Panel -->
                    <div class="magic-panel">
                        <h3>마법</h3>
                        <div class="magic-buttons" id="magic-buttons">
                            <!-- Magic buttons will be dynamically generated -->
                        </div>
                    </div>

                    <!-- Battle Controls -->
                    <div class="battle-controls">
                        <button class="control-btn" id="pause-btn" onclick="togglePause()">⏸️ 일시정지</button>
                        <button class="control-btn" id="speed-btn" onclick="changeSpeed()">⏩ 속도: x1</button>
                        <button class="control-btn danger" onclick="retreatBattle()">🏳️ 후퇴</button>
                    </div>
                </div>
            </div>

            <!-- Invasion Page -->
            <div id="invasion-page" class="page">
                <h2>침공</h2>
                <p class="page-desc">다른 플레이어의 자원을 약탈하세요!</p>
                <div class="opponent-list" id="invasion-list">
                    <!-- Opponents will be generated -->
                </div>
            </div>

            <!-- Survival Page -->
            <div id="survival-page" class="page">
                <h2>서바이벌</h2>
                <p class="page-desc">끝없이 밀려오는 적을 막아내세요!</p>
                <div class="survival-info">
                    <p>최고 기록: <span id="survival-record">0</span> 웨이브</p>
                    <button class="action-btn large" onclick="startSurvival()">
                        서바이벌 시작
                    </button>
                </div>
            </div>

            <!-- Raid Page -->
            <div id="raid-page" class="page">
                <h2>레이드</h2>
                <p class="page-desc">강력한 보스를 처치하고 보상을 획득하세요!</p>
                <div class="raid-bosses" id="raid-bosses">
                    <!-- Raid bosses will be generated -->
                </div>
            </div>

            <!-- Units Page -->
            <div id="units-page" class="page">
                <h2>병력 관리</h2>
                <div class="units-container">
                    <div class="unit-types" id="unit-types">
                        <!-- Unit types will be displayed -->
                    </div>
                </div>
            </div>

            <!-- Items Page -->
            <div id="items-page" class="page">
                <h2>아이템 & 합성</h2>
                <div class="items-section">
                    <div class="inventory">
                        <h3>보유 아이템</h3>
                        <div class="item-grid" id="item-inventory">
                            <!-- Items will be displayed -->
                        </div>
                    </div>
                    <div class="synthesis">
                        <h3>아이템 합성</h3>
                        <div class="synthesis-slots">
                            <div class="synth-slot" id="synth-slot-1">
                                <p>아이템 1</p>
                            </div>
                            <div class="synth-plus">+</div>
                            <div class="synth-slot" id="synth-slot-2">
                                <p>아이템 2</p>
                            </div>
                            <div class="synth-arrow">→</div>
                            <div class="synth-result" id="synth-result">
                                <p>결과</p>
                            </div>
                        </div>
                        <button class="action-btn" onclick="synthesizeItems()">합성하기</button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Battle Result Modal -->
        <div id="result-modal" class="modal">
            <div class="modal-content">
                <h2 id="result-title">전투 결과</h2>
                <div id="result-content">
                    <!-- Result content will be shown here -->
                </div>
                <button class="action-btn" onclick="closeResultModal()">확인</button>
            </div>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/battle.js"></script>
    <script src="js/game.js"></script>
    <script src="js/ui.js"></script>
</body>
</html>
