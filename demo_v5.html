<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„¤ë¬¸ ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
    <style>
        :root {
            /* ë°°ê²½ ê·¸ë¼ë””ì–¸íŠ¸ */
            --bg-gradient-start: #667eea;
            --bg-gradient-end: #764ba2;

            /* íƒ­ ìƒ‰ìƒ */
            --tab-inactive-start: #ffffff;
            --tab-inactive-end: #e6e6e6;
            --tab-active-start: #667eea;
            --tab-active-end: #5568d3;

            /* ê·¸ë¦¼ì ê°•ë„ */
            --shadow-light: 0.1;
            --shadow-medium: 0.15;
            --shadow-heavy: 0.25;

            /* ê¸°ë³¸ ìƒ‰ìƒ */
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --accent-color: #48bb78;
            --danger-color: #f56565;

            /* ì¹´ë“œ ìƒ‰ìƒ */
            --card-bg-start: #ffffff;
            --card-bg-end: #f5f5f5;

            /* ê·¸ë¦¼ì ì„¤ì • */
            --tab-shadow-blur: 16px;
            --tab-shadow-spread: 0px;
            --card-shadow-blur: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            min-height: 100vh;
            padding: 20px;
            transition: background 0.3s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            position: relative;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .user-info {
            position: absolute;
            top: 0;
            right: 0;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .user-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 16px;
            border-radius: 20px;
            color: white;
            font-size: 14px;
            backdrop-filter: blur(10px);
        }

        /* ë¡œê·¸ì¸ ëª¨ë‹¬ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-content h2 {
            margin-bottom: 20px;
            color: #333;
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: bold;
        }

        .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* ê´€ë¦¬ì ëª¨ë“œ ì»¨íŠ¸ë¡¤ */
        .admin-controls {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: none;
        }

        .admin-controls.visible {
            display: block;
        }

        .admin-controls h3 {
            margin-bottom: 15px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-section {
            margin-bottom: 25px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 10px;
            border-left: 4px solid var(--primary-color);
        }

        .control-section h4 {
            margin-bottom: 15px;
            color: #555;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .control-group {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }

        .style-control {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
            min-width: 200px;
        }

        .style-control label {
            font-size: 13px;
            color: #666;
            min-width: 100px;
        }

        .style-control input[type="color"] {
            width: 60px;
            height: 40px;
            border: 2px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
        }

        .style-control input[type="range"] {
            flex: 1;
            min-width: 150px;
        }

        .style-control input[type="number"] {
            width: 70px;
            padding: 6px;
            border: 2px solid #ddd;
            border-radius: 6px;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .checkbox-group:hover {
            background: #f0f0f0;
        }

        .checkbox-group input[type="checkbox"] {
            cursor: pointer;
            width: 18px;
            height: 18px;
        }

        .checkbox-group label {
            cursor: pointer;
            font-size: 13px;
            color: #555;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-success {
            background: var(--accent-color);
            color: white;
        }

        .btn-warning {
            background: #ed8936;
            color: white;
        }

        .btn-danger {
            background: var(--danger-color);
            color: white;
        }

        .btn-small {
            padding: 8px 16px;
            font-size: 12px;
        }

        .status-badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }

        .status-badge.active {
            background: #c6f6d5;
            color: #22543d;
        }

        .status-badge.inactive {
            background: #fed7d7;
            color: #742a2a;
        }

        .status-badge.locked {
            background: #feebc8;
            color: #7c2d12;
        }

        /* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ - ì…ì²´ì  ë””ìì¸ */
        .tab-navigation {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab {
            flex: 1;
            min-width: 150px;
            padding: 18px 30px;
            background: linear-gradient(145deg, var(--tab-inactive-start), var(--tab-inactive-end));
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            color: #555;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            box-shadow:
                0 calc(var(--tab-shadow-blur) / 2) var(--tab-shadow-blur) rgba(0,0,0,var(--shadow-light)),
                0 calc(var(--tab-shadow-blur) / 4) calc(var(--tab-shadow-blur) / 2) rgba(0,0,0,calc(var(--shadow-light) * 0.7)),
                inset 0 -2px 4px rgba(0,0,0,0.1);
        }

        .tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 12px;
            background: linear-gradient(145deg, rgba(255,255,255,0.8), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .tab:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow:
                0 calc(var(--tab-shadow-blur) * 1.5) calc(var(--tab-shadow-blur) * 1.5) rgba(0,0,0,var(--shadow-medium)),
                0 calc(var(--tab-shadow-blur) / 2) var(--tab-shadow-blur) rgba(0,0,0,calc(var(--shadow-medium) * 0.7)),
                inset 0 -2px 4px rgba(0,0,0,0.1);
        }

        .tab:hover::before {
            opacity: 1;
        }

        .tab:active {
            transform: translateY(-2px) scale(1);
            box-shadow:
                0 calc(var(--tab-shadow-blur) / 2) calc(var(--tab-shadow-blur) / 2) rgba(0,0,0,0.2),
                0 calc(var(--tab-shadow-blur) / 4) calc(var(--tab-shadow-blur) / 4) rgba(0,0,0,0.1);
        }

        .tab.active {
            background: linear-gradient(145deg, var(--tab-active-start), var(--tab-active-end));
            color: white;
            transform: translateY(-3px);
            box-shadow:
                0 10px 20px rgba(102, 126, 234, 0.4),
                0 6px 12px rgba(102, 126, 234, 0.3),
                inset 0 2px 4px rgba(255,255,255,0.2);
        }

        .tab.active::before {
            background: linear-gradient(145deg, rgba(255,255,255,0.3), transparent);
            opacity: 1;
        }

        /* ì»¨í…ì¸  ì˜ì—­ */
        .content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            min-height: 400px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ì„¤ë¬¸ ì¹´ë“œ */
        .survey-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .survey-card {
            background: linear-gradient(145deg, var(--card-bg-start), var(--card-bg-end));
            padding: 25px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow:
                0 6px var(--card-shadow-blur) rgba(0,0,0,var(--shadow-light)),
                0 3px 6px rgba(0,0,0,calc(var(--shadow-light) * 0.8));
            position: relative;
            border: 2px solid transparent;
        }

        .survey-card:hover {
            transform: translateY(-5px);
            box-shadow:
                0 10px 20px rgba(0,0,0,var(--shadow-medium)),
                0 5px 10px rgba(0,0,0,calc(var(--shadow-medium) * 0.7));
            border-color: var(--primary-color);
        }

        .survey-card.editable {
            border: 2px dashed var(--primary-color);
            background: linear-gradient(145deg, #f0f4ff, #e5edff);
        }

        .survey-card.editable::after {
            content: 'âœï¸ í¸ì§‘ ê°€ëŠ¥';
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--primary-color);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
        }

        .survey-card.link-locked {
            cursor: not-allowed;
            opacity: 0.9;
        }

        .survey-card.link-locked::before {
            content: 'ğŸ”’';
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 20px;
        }

        .survey-card h3 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .survey-card p {
            color: #666;
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .survey-meta {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
            font-size: 0.9em;
            color: #888;
        }

        /* í¬ì¸íŠ¸ ê´€ë ¨ ìš”ì†Œ */
        .points-element {
            transition: all 0.3s ease;
        }

        .points-element.hidden {
            display: none !important;
        }

        /* ê°œë³„ ì œì–´ ê°€ëŠ¥í•œ ìš”ì†Œ */
        .controllable-element {
            transition: all 0.3s ease;
        }

        .controllable-element.hidden {
            display: none !important;
        }

        /* ì„œë¸Œí˜ì´ì§€ */
        .subpage {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .subpage.active {
            display: block;
        }

        .back-button {
            margin-bottom: 20px;
        }

        .survey-detail {
            background: linear-gradient(145deg, #f9fafb, #f0f2f5);
            padding: 30px;
            border-radius: 12px;
            box-shadow:
                0 8px 16px rgba(0,0,0,0.1),
                inset 0 1px 3px rgba(0,0,0,0.05);
        }

        .survey-detail h2 {
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--primary-color);
        }

        .detail-section {
            margin-bottom: 25px;
        }

        .detail-section h3 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .question-list {
            list-style: none;
            padding: 0;
        }

        .question-item {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .question-item.editable {
            border: 2px dashed var(--primary-color);
            background: #f0f4ff;
        }

        /* í¸ì§‘ ëª¨ë“œ í‘œì‹œ */
        .edit-mode-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
            font-weight: bold;
            z-index: 1000;
            animation: pulse 2s infinite;
            display: none;
        }

        .edit-mode-indicator.visible {
            display: block;
        }

        @keyframes pulse {
            0%, 100% {
                box-shadow: 0 8px 16px rgba(102, 126, 234, 0.4);
            }
            50% {
                box-shadow: 0 8px 24px rgba(102, 126, 234, 0.6);
            }
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .tab-navigation {
                flex-direction: column;
            }

            .tab {
                width: 100%;
            }

            .survey-grid {
                grid-template-columns: 1fr;
            }

            .user-info {
                position: static;
                justify-content: center;
                margin-top: 10px;
            }

            .control-group {
                flex-direction: column;
                align-items: stretch;
            }

            .style-control {
                flex-direction: column;
                align-items: stretch;
            }
        }
    </style>
</head>
<body>
    <!-- ë¡œê·¸ì¸ ëª¨ë‹¬ -->
    <div class="modal active" id="loginModal">
        <div class="modal-content">
            <h2>ğŸ” ë¡œê·¸ì¸</h2>
            <div class="form-group">
                <label for="username">ì‚¬ìš©ì ì´ë¦„</label>
                <input type="text" id="username" placeholder="ì‚¬ìš©ì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            <div class="form-group">
                <label for="password">ë¹„ë°€ë²ˆí˜¸</label>
                <input type="password" id="password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            <button class="btn btn-primary" style="width: 100%; margin-bottom: 10px;" onclick="login()">
                ë¡œê·¸ì¸
            </button>
            <button class="btn btn-success" style="width: 100%;" onclick="guestLogin()">
                ê²ŒìŠ¤íŠ¸ë¡œ ê³„ì†í•˜ê¸°
            </button>
            <p style="margin-top: 20px; text-align: center; color: #888; font-size: 12px;">
                ê´€ë¦¬ì ê³„ì •: admin / admin123
            </p>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>ğŸ“Š ì„¤ë¬¸ ê´€ë¦¬ ì‹œìŠ¤í…œ</h1>
            <p>íš¨ìœ¨ì ì¸ ì„¤ë¬¸ ì¡°ì‚¬ ê´€ë¦¬</p>
            <div class="user-info">
                <span class="user-badge" id="userBadge">ê²ŒìŠ¤íŠ¸</span>
                <button class="btn btn-danger btn-small" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
            </div>
        </div>

        <!-- ê´€ë¦¬ì ì»¨íŠ¸ë¡¤ -->
        <div class="admin-controls" id="adminControls">
            <h3>ğŸ”§ ê´€ë¦¬ì ì œì–´íŒ</h3>

            <!-- ê¸°ë³¸ í¸ì§‘ ëª¨ë“œ -->
            <div class="control-section">
                <h4>ğŸ“ í¸ì§‘ ëª¨ë“œ</h4>
                <div class="control-group">
                    <button class="btn btn-primary" onclick="toggleEditMode()">
                        <span id="editModeText">ë¹„ì£¼ì–¼ ìˆ˜ì • ëª¨ë“œ í™œì„±í™”</span>
                    </button>
                    <button class="btn btn-warning" onclick="toggleLinkLock()" id="linkLockBtn">
                        <span id="linkLockText">ë§í¬ ì ê¸ˆ</span>
                    </button>
                    <div class="status-badge inactive" id="editStatus">í¸ì§‘ ëª¨ë“œ: ë¹„í™œì„±</div>
                    <div class="status-badge inactive" id="linkStatus">ë§í¬: í™œì„±</div>
                </div>
            </div>

            <!-- ìŠ¤íƒ€ì¼ í¸ì§‘ -->
            <div class="control-section">
                <h4>ğŸ¨ ê³ ê¸‰ ìŠ¤íƒ€ì¼ í¸ì§‘</h4>

                <div class="control-group">
                    <div class="style-control">
                        <label>ë°°ê²½ ì‹œì‘ ìƒ‰ìƒ:</label>
                        <input type="color" id="bgGradientStart" value="#667eea" onchange="updateStyle('--bg-gradient-start', this.value)">
                    </div>
                    <div class="style-control">
                        <label>ë°°ê²½ ë ìƒ‰ìƒ:</label>
                        <input type="color" id="bgGradientEnd" value="#764ba2" onchange="updateStyle('--bg-gradient-end', this.value)">
                    </div>
                </div>

                <div class="control-group">
                    <div class="style-control">
                        <label>í™œì„± íƒ­ ìƒ‰ìƒ:</label>
                        <input type="color" id="tabActiveStart" value="#667eea" onchange="updateStyle('--tab-active-start', this.value)">
                    </div>
                    <div class="style-control">
                        <label>ê¸°ë³¸ ìƒ‰ìƒ:</label>
                        <input type="color" id="primaryColor" value="#667eea" onchange="updateStyle('--primary-color', this.value)">
                    </div>
                </div>

                <div class="control-group">
                    <div class="style-control">
                        <label>ê·¸ë¦¼ì ê°•ë„:</label>
                        <input type="range" id="shadowIntensity" min="0.05" max="0.4" step="0.05" value="0.15" oninput="updateShadowIntensity(this.value)">
                        <span id="shadowValue">0.15</span>
                    </div>
                </div>

                <div class="control-group">
                    <div class="style-control">
                        <label>íƒ­ ê·¸ë¦¼ì í¬ê¸°:</label>
                        <input type="range" id="tabShadowBlur" min="8" max="32" step="2" value="16" oninput="updateStyle('--tab-shadow-blur', this.value + 'px'); document.getElementById('tabShadowValue').textContent = this.value + 'px'">
                        <span id="tabShadowValue">16px</span>
                    </div>
                </div>

                <button class="btn btn-success btn-small" onclick="saveSettings()">ğŸ’¾ ì„¤ì • ì €ì¥</button>
                <button class="btn btn-warning btn-small" onclick="resetStyles()">ğŸ”„ ì´ˆê¸°í™”</button>
            </div>

            <!-- í¬ì¸íŠ¸ ì‹œìŠ¤í…œ -->
            <div class="control-section">
                <h4>ğŸ’° í¬ì¸íŠ¸ ì‹œìŠ¤í…œ</h4>
                <div class="control-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="pointsToggle" checked onchange="togglePoints(this.checked)">
                        <label for="pointsToggle">í¬ì¸íŠ¸ ì‹œìŠ¤í…œ í™œì„±í™”</label>
                    </div>
                    <div class="status-badge active" id="pointsStatus">í¬ì¸íŠ¸: í™œì„±</div>
                </div>
            </div>

            <!-- ìš”ì†Œ í‘œì‹œ/ìˆ¨ê¹€ -->
            <div class="control-section">
                <h4>ğŸ‘ï¸ UI ìš”ì†Œ ì œì–´</h4>
                <div class="control-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="showRewards" checked onchange="toggleElement('reward', this.checked)">
                        <label for="showRewards">ë¦¬ì›Œë“œ í‘œì‹œ</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="showDeadlines" checked onchange="toggleElement('deadline', this.checked)">
                        <label for="showDeadlines">ë§ˆê°ì¼ í‘œì‹œ</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="showStats" checked onchange="toggleElement('stats', this.checked)">
                        <label for="showStats">í†µê³„ íƒ­ í‘œì‹œ</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="showProgress" checked onchange="toggleElement('progress', this.checked)">
                        <label for="showProgress">ì§„í–‰ë¥  í‘œì‹œ</label>
                    </div>
                </div>
            </div>
        </div>

        <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
        <div class="tab-navigation">
            <button class="tab active" onclick="showTab('available')">
                ğŸ“‹ ì°¸ì—¬ ê°€ëŠ¥í•œ ì„¤ë¬¸
            </button>
            <button class="tab" onclick="showTab('completed')">
                âœ… ì™„ë£Œëœ ì„¤ë¬¸
            </button>
            <button class="tab" onclick="showTab('draft')">
                ğŸ“ ì„ì‹œì €ì¥
            </button>
            <button class="tab controllable-element" data-element="stats" onclick="showTab('stats')">
                ğŸ“ˆ í†µê³„
            </button>
        </div>

        <!-- ë©”ì¸ ì»¨í…ì¸  -->
        <div class="content">
            <!-- ì°¸ì—¬ ê°€ëŠ¥í•œ ì„¤ë¬¸ íƒ­ -->
            <div class="tab-content active" id="available">
                <h2>ì°¸ì—¬ ê°€ëŠ¥í•œ ì„¤ë¬¸</h2>
                <div class="survey-grid">
                    <div class="survey-card" data-survey-id="1">
                        <h3>ê³ ê° ë§Œì¡±ë„ ì¡°ì‚¬ 2024</h3>
                        <p>ë‹¹ì‚¬ì˜ ì„œë¹„ìŠ¤ì— ëŒ€í•œ ê·€í•˜ì˜ ì˜ê²¬ì„ ë“¤ë ¤ì£¼ì„¸ìš”.</p>
                        <p><strong>ì˜ˆìƒ ì†Œìš”ì‹œê°„:</strong> 5ë¶„</p>
                        <div class="survey-meta">
                            <span class="points-element controllable-element" data-element="reward">ğŸ’° ë¦¬ì›Œë“œ: 5,000ì›</span>
                            <span class="controllable-element" data-element="deadline">â±ï¸ ë§ˆê°: 2024-12-31</span>
                        </div>
                    </div>

                    <div class="survey-card" data-survey-id="2">
                        <h3>ì œí’ˆ ì‚¬ìš© ê²½í—˜ ì„¤ë¬¸</h3>
                        <p>ìµœê·¼ êµ¬ë§¤í•˜ì‹  ì œí’ˆì— ëŒ€í•œ ê²½í—˜ì„ ê³µìœ í•´ì£¼ì„¸ìš”.</p>
                        <p><strong>ì˜ˆìƒ ì†Œìš”ì‹œê°„:</strong> 7ë¶„</p>
                        <div class="survey-meta">
                            <span class="points-element controllable-element" data-element="reward">ğŸ’° ë¦¬ì›Œë“œ: 10,000ì›</span>
                            <span class="controllable-element" data-element="deadline">â±ï¸ ë§ˆê°: 2024-11-30</span>
                        </div>
                    </div>

                    <div class="survey-card" data-survey-id="3">
                        <h3>ë¼ì´í”„ìŠ¤íƒ€ì¼ ì¡°ì‚¬</h3>
                        <p>ì¼ìƒìƒí™œê³¼ ì†Œë¹„ íŒ¨í„´ì— ê´€í•œ ì„¤ë¬¸ì…ë‹ˆë‹¤.</p>
                        <p><strong>ì˜ˆìƒ ì†Œìš”ì‹œê°„:</strong> 10ë¶„</p>
                        <div class="survey-meta">
                            <span class="points-element controllable-element" data-element="reward">ğŸ’° ë¦¬ì›Œë“œ: 15,000ì›</span>
                            <span class="controllable-element" data-element="deadline">â±ï¸ ë§ˆê°: 2024-12-15</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì™„ë£Œëœ ì„¤ë¬¸ íƒ­ -->
            <div class="tab-content" id="completed">
                <h2>ì™„ë£Œëœ ì„¤ë¬¸</h2>
                <div class="survey-grid">
                    <div class="survey-card">
                        <h3>ë¸Œëœë“œ ì¸ì§€ë„ ì¡°ì‚¬</h3>
                        <p>ì™„ë£Œì¼: 2024-10-15</p>
                        <div class="survey-meta">
                            <span>âœ… ì™„ë£Œ</span>
                            <span class="points-element">ğŸ’° ë¦¬ì›Œë“œ ì§€ê¸‰ ì™„ë£Œ</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì„ì‹œì €ì¥ íƒ­ -->
            <div class="tab-content" id="draft">
                <h2>ì„ì‹œì €ì¥ëœ ì„¤ë¬¸</h2>
                <div class="survey-grid">
                    <div class="survey-card">
                        <h3>ëª¨ë°”ì¼ ì•± ì‚¬ìš©ì„± í…ŒìŠ¤íŠ¸</h3>
                        <p class="controllable-element" data-element="progress">ì§„í–‰ë¥ : 60%</p>
                        <div class="survey-meta">
                            <span>ğŸ“ ì„ì‹œì €ì¥</span>
                            <span>â±ï¸ ì €ì¥ì¼: 2024-11-05</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- í†µê³„ íƒ­ -->
            <div class="tab-content" id="stats">
                <h2>ì°¸ì—¬ í†µê³„</h2>
                <div class="detail-section">
                    <h3>ğŸ“Š ì „ì²´ í†µê³„</h3>
                    <p>ì´ ì°¸ì—¬ ì„¤ë¬¸: 5ê°œ</p>
                    <p class="controllable-element" data-element="progress">ì§„í–‰ ì¤‘ì¸ ì„¤ë¬¸: 1ê°œ</p>
                    <p class="points-element">íšë“ ë¦¬ì›Œë“œ: 50,000ì›</p>
                    <p>í‰ê·  ì°¸ì—¬ ì‹œê°„: 8ë¶„</p>
                </div>
            </div>
        </div>

        <!-- ì„œë¸Œí˜ì´ì§€ (ì„¤ë¬¸ ìƒì„¸) -->
        <div class="subpage" id="surveyDetail">
            <div class="content">
                <button class="btn btn-primary back-button" onclick="goBack()">
                    â† ëŒì•„ê°€ê¸°
                </button>

                <div class="survey-detail">
                    <h2 id="detailTitle">ì„¤ë¬¸ ì œëª©</h2>

                    <div class="detail-section">
                        <h3>ğŸ“‹ ì„¤ë¬¸ ì •ë³´</h3>
                        <p><strong>ì„¤ëª…:</strong> <span id="detailDesc">ì„¤ë¬¸ ì„¤ëª…</span></p>
                        <p><strong>ì˜ˆìƒ ì†Œìš”ì‹œê°„:</strong> <span id="detailTime">5ë¶„</span></p>
                        <p class="points-element"><strong>ë¦¬ì›Œë“œ:</strong> <span id="detailReward">5,000ì›</span></p>
                        <p><strong>ë§ˆê°ì¼:</strong> <span id="detailDeadline">2024-12-31</span></p>
                    </div>

                    <div class="detail-section">
                        <h3>â“ ì„¤ë¬¸ ë¬¸í•­</h3>
                        <ul class="question-list">
                            <li class="question-item">
                                <strong>Q1.</strong> ìš°ë¦¬ ì„œë¹„ìŠ¤ë¥¼ ì–´ë–»ê²Œ ì•Œê²Œ ë˜ì…¨ë‚˜ìš”?
                            </li>
                            <li class="question-item">
                                <strong>Q2.</strong> ì„œë¹„ìŠ¤ ì´ìš© ë¹ˆë„ëŠ” ì–´ëŠ ì •ë„ì…ë‹ˆê¹Œ?
                            </li>
                            <li class="question-item">
                                <strong>Q3.</strong> ì „ë°˜ì ì¸ ë§Œì¡±ë„ë¥¼ í‰ê°€í•´ì£¼ì„¸ìš”. (1-10ì )
                            </li>
                            <li class="question-item">
                                <strong>Q4.</strong> ê°œì„ ì´ í•„ìš”í•œ ë¶€ë¶„ì´ ìˆë‹¤ë©´ ììœ ë¡­ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”.
                            </li>
                        </ul>
                    </div>

                    <button class="btn btn-success" style="width: 100%; padding: 15px; font-size: 16px;">
                        ì„¤ë¬¸ ì‹œì‘í•˜ê¸° â†’
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- í¸ì§‘ ëª¨ë“œ ì¸ë””ì¼€ì´í„° -->
    <div class="edit-mode-indicator" id="editIndicator">
        âœï¸ ë¹„ì£¼ì–¼ ìˆ˜ì • ëª¨ë“œ
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let editMode = false;
        let linksLocked = false;
        let currentView = 'main';
        let currentUser = null;
        let isAdmin = false;

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
        window.addEventListener('DOMContentLoaded', function() {
            loadSettings();
            checkAutoLogin();
        });

        // ìë™ ë¡œê·¸ì¸ ì²´í¬
        function checkAutoLogin() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                const userData = JSON.parse(savedUser);
                currentUser = userData.username;
                isAdmin = userData.isAdmin;
                document.getElementById('loginModal').classList.remove('active');
                updateUserInterface();
            }
        }

        // ë¡œê·¸ì¸
        function login() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (!username || !password) {
                alert('ì‚¬ìš©ì ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ê°„ë‹¨í•œ ì¸ì¦ (ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ì²˜ë¦¬í•´ì•¼ í•¨)
            if (username === 'admin' && password === 'admin123') {
                currentUser = username;
                isAdmin = true;
            } else {
                currentUser = username;
                isAdmin = false;
            }

            // ë¡œê·¸ì¸ ì •ë³´ ì €ì¥
            localStorage.setItem('currentUser', JSON.stringify({
                username: currentUser,
                isAdmin: isAdmin
            }));

            document.getElementById('loginModal').classList.remove('active');
            updateUserInterface();
        }

        // ê²ŒìŠ¤íŠ¸ ë¡œê·¸ì¸
        function guestLogin() {
            currentUser = 'ê²ŒìŠ¤íŠ¸';
            isAdmin = false;
            localStorage.setItem('currentUser', JSON.stringify({
                username: currentUser,
                isAdmin: isAdmin
            }));
            document.getElementById('loginModal').classList.remove('active');
            updateUserInterface();
        }

        // ë¡œê·¸ì•„ì›ƒ
        function logout() {
            localStorage.removeItem('currentUser');
            currentUser = null;
            isAdmin = false;
            document.getElementById('loginModal').classList.add('active');
            document.getElementById('adminControls').classList.remove('visible');
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
        }

        // ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì—…ë°ì´íŠ¸
        function updateUserInterface() {
            document.getElementById('userBadge').textContent = currentUser + (isAdmin ? ' (ê´€ë¦¬ì)' : '');

            if (isAdmin) {
                document.getElementById('adminControls').classList.add('visible');
            } else {
                document.getElementById('adminControls').classList.remove('visible');
            }
        }

        // íƒ­ ì „í™˜
        function showTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        // ë¹„ì£¼ì–¼ ìˆ˜ì • ëª¨ë“œ í† ê¸€
        function toggleEditMode() {
            editMode = !editMode;
            const editModeText = document.getElementById('editModeText');
            const editStatus = document.getElementById('editStatus');
            const editIndicator = document.getElementById('editIndicator');

            if (editMode) {
                editModeText.textContent = 'ë¹„ì£¼ì–¼ ìˆ˜ì • ëª¨ë“œ ë¹„í™œì„±í™”';
                editStatus.textContent = 'í¸ì§‘ ëª¨ë“œ: í™œì„±';
                editStatus.classList.remove('inactive');
                editStatus.classList.add('active');
                editIndicator.classList.add('visible');

                // ëª¨ë“  ì¹´ë“œë¥¼ í¸ì§‘ ê°€ëŠ¥í•˜ê²Œ
                document.querySelectorAll('.survey-card').forEach(card => {
                    card.classList.add('editable');
                    card.setAttribute('contenteditable', 'true');
                });

                // ìƒì„¸ í˜ì´ì§€ì˜ ìš”ì†Œë“¤ë„ í¸ì§‘ ê°€ëŠ¥í•˜ê²Œ
                document.querySelectorAll('.survey-detail h2, .survey-detail p, .question-item').forEach(el => {
                    el.classList.add('editable');
                    el.setAttribute('contenteditable', 'true');
                });

                document.getElementById('linkLockBtn').disabled = false;
            } else {
                editModeText.textContent = 'ë¹„ì£¼ì–¼ ìˆ˜ì • ëª¨ë“œ í™œì„±í™”';
                editStatus.textContent = 'í¸ì§‘ ëª¨ë“œ: ë¹„í™œì„±';
                editStatus.classList.remove('active');
                editStatus.classList.add('inactive');
                editIndicator.classList.remove('visible');

                document.querySelectorAll('[contenteditable="true"]').forEach(el => {
                    el.classList.remove('editable');
                    el.setAttribute('contenteditable', 'false');
                });

                if (linksLocked) {
                    toggleLinkLock();
                }

                document.getElementById('linkLockBtn').disabled = true;
            }
        }

        // ë§í¬ ì ê¸ˆ/í•´ì œ
        function toggleLinkLock() {
            if (!editMode) {
                alert('ë¨¼ì € ë¹„ì£¼ì–¼ ìˆ˜ì • ëª¨ë“œë¥¼ í™œì„±í™”í•´ì£¼ì„¸ìš”.');
                return;
            }

            linksLocked = !linksLocked;
            const linkLockText = document.getElementById('linkLockText');
            const linkStatus = document.getElementById('linkStatus');

            if (linksLocked) {
                linkLockText.textContent = 'ë§í¬ ì ê¸ˆ í•´ì œ';
                linkStatus.textContent = 'ë§í¬: ì ê¸ˆ';
                linkStatus.classList.remove('inactive');
                linkStatus.classList.add('locked');

                document.querySelectorAll('.survey-card').forEach(card => {
                    card.classList.add('link-locked');
                });
            } else {
                linkLockText.textContent = 'ë§í¬ ì ê¸ˆ';
                linkStatus.textContent = 'ë§í¬: í™œì„±';
                linkStatus.classList.remove('locked');
                linkStatus.classList.add('inactive');

                document.querySelectorAll('.survey-card').forEach(card => {
                    card.classList.remove('link-locked');
                });
            }
        }

        // ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
        function updateStyle(variable, value) {
            document.documentElement.style.setProperty(variable, value);
        }

        // ê·¸ë¦¼ì ê°•ë„ ì—…ë°ì´íŠ¸
        function updateShadowIntensity(value) {
            document.getElementById('shadowValue').textContent = value;
            document.documentElement.style.setProperty('--shadow-light', value);
            document.documentElement.style.setProperty('--shadow-medium', parseFloat(value) + 0.05);
            document.documentElement.style.setProperty('--shadow-heavy', parseFloat(value) + 0.1);
        }

        // í¬ì¸íŠ¸ ì‹œìŠ¤í…œ í† ê¸€
        function togglePoints(enabled) {
            const pointsStatus = document.getElementById('pointsStatus');
            const pointsElements = document.querySelectorAll('.points-element');

            if (enabled) {
                pointsStatus.textContent = 'í¬ì¸íŠ¸: í™œì„±';
                pointsStatus.classList.remove('inactive');
                pointsStatus.classList.add('active');
                pointsElements.forEach(el => el.classList.remove('hidden'));
            } else {
                pointsStatus.textContent = 'í¬ì¸íŠ¸: ë¹„í™œì„±';
                pointsStatus.classList.remove('active');
                pointsStatus.classList.add('inactive');
                pointsElements.forEach(el => el.classList.add('hidden'));
            }

            saveSettings();
        }

        // ê°œë³„ ìš”ì†Œ í† ê¸€
        function toggleElement(elementType, enabled) {
            const elements = document.querySelectorAll(`.controllable-element[data-element="${elementType}"]`);

            if (enabled) {
                elements.forEach(el => el.classList.remove('hidden'));
            } else {
                elements.forEach(el => el.classList.add('hidden'));
            }

            saveSettings();
        }

        // ì„¤ì • ì €ì¥
        function saveSettings() {
            const settings = {
                bgGradientStart: getComputedStyle(document.documentElement).getPropertyValue('--bg-gradient-start').trim(),
                bgGradientEnd: getComputedStyle(document.documentElement).getPropertyValue('--bg-gradient-end').trim(),
                tabActiveStart: getComputedStyle(document.documentElement).getPropertyValue('--tab-active-start').trim(),
                primaryColor: getComputedStyle(document.documentElement).getPropertyValue('--primary-color').trim(),
                shadowIntensity: document.getElementById('shadowIntensity').value,
                tabShadowBlur: document.getElementById('tabShadowBlur').value,
                pointsEnabled: document.getElementById('pointsToggle').checked,
                showRewards: document.getElementById('showRewards').checked,
                showDeadlines: document.getElementById('showDeadlines').checked,
                showStats: document.getElementById('showStats').checked,
                showProgress: document.getElementById('showProgress').checked
            };

            localStorage.setItem('surveySettings', JSON.stringify(settings));
            alert('âœ… ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
        function loadSettings() {
            const savedSettings = localStorage.getItem('surveySettings');

            if (savedSettings) {
                const settings = JSON.parse(savedSettings);

                // ìŠ¤íƒ€ì¼ ì ìš©
                if (settings.bgGradientStart) {
                    document.documentElement.style.setProperty('--bg-gradient-start', settings.bgGradientStart);
                    document.getElementById('bgGradientStart').value = settings.bgGradientStart;
                }
                if (settings.bgGradientEnd) {
                    document.documentElement.style.setProperty('--bg-gradient-end', settings.bgGradientEnd);
                    document.getElementById('bgGradientEnd').value = settings.bgGradientEnd;
                }
                if (settings.tabActiveStart) {
                    document.documentElement.style.setProperty('--tab-active-start', settings.tabActiveStart);
                    document.getElementById('tabActiveStart').value = settings.tabActiveStart;
                }
                if (settings.primaryColor) {
                    document.documentElement.style.setProperty('--primary-color', settings.primaryColor);
                    document.getElementById('primaryColor').value = settings.primaryColor;
                }
                if (settings.shadowIntensity) {
                    document.getElementById('shadowIntensity').value = settings.shadowIntensity;
                    updateShadowIntensity(settings.shadowIntensity);
                }
                if (settings.tabShadowBlur) {
                    document.getElementById('tabShadowBlur').value = settings.tabShadowBlur;
                    updateStyle('--tab-shadow-blur', settings.tabShadowBlur + 'px');
                    document.getElementById('tabShadowValue').textContent = settings.tabShadowBlur + 'px';
                }

                // í¬ì¸íŠ¸ ì‹œìŠ¤í…œ
                if (settings.pointsEnabled !== undefined) {
                    document.getElementById('pointsToggle').checked = settings.pointsEnabled;
                    togglePoints(settings.pointsEnabled);
                }

                // ê°œë³„ ìš”ì†Œ
                if (settings.showRewards !== undefined) {
                    document.getElementById('showRewards').checked = settings.showRewards;
                    toggleElement('reward', settings.showRewards);
                }
                if (settings.showDeadlines !== undefined) {
                    document.getElementById('showDeadlines').checked = settings.showDeadlines;
                    toggleElement('deadline', settings.showDeadlines);
                }
                if (settings.showStats !== undefined) {
                    document.getElementById('showStats').checked = settings.showStats;
                    toggleElement('stats', settings.showStats);
                }
                if (settings.showProgress !== undefined) {
                    document.getElementById('showProgress').checked = settings.showProgress;
                    toggleElement('progress', settings.showProgress);
                }
            }
        }

        // ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”
        function resetStyles() {
            if (confirm('ëª¨ë“  ìŠ¤íƒ€ì¼ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                localStorage.removeItem('surveySettings');
                location.reload();
            }
        }

        // ì„¤ë¬¸ ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸
        document.addEventListener('click', function(e) {
            const surveyCard = e.target.closest('.survey-card');

            if (surveyCard) {
                if (editMode && linksLocked) {
                    e.preventDefault();
                    e.stopPropagation();
                    return;
                }

                if (!editMode || !linksLocked) {
                    const surveyId = surveyCard.dataset.surveyId;
                    if (surveyId) {
                        showSurveyDetail(surveyCard);
                    }
                }
            }
        });

        // ì„¤ë¬¸ ìƒì„¸ í˜ì´ì§€ í‘œì‹œ
        function showSurveyDetail(card) {
            const title = card.querySelector('h3').textContent;
            const desc = card.querySelector('p').textContent;

            document.getElementById('detailTitle').textContent = title;
            document.getElementById('detailDesc').textContent = desc;

            document.querySelector('.tab-navigation').style.display = 'none';
            document.querySelector('.content').style.display = 'none';
            document.getElementById('surveyDetail').classList.add('active');

            currentView = 'detail';

            if (editMode) {
                document.querySelectorAll('#surveyDetail .survey-detail h2, #surveyDetail .survey-detail p, #surveyDetail .question-item').forEach(el => {
                    el.classList.add('editable');
                    el.setAttribute('contenteditable', 'true');
                });
            }
        }

        // ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
        function goBack() {
            document.getElementById('surveyDetail').classList.remove('active');
            document.querySelector('.tab-navigation').style.display = 'flex';
            document.querySelector('.content').style.display = 'block';

            currentView = 'main';
        }

        // ì´ˆê¸° ì„¤ì •
        document.getElementById('linkLockBtn').disabled = true;

        // Enter í‚¤ë¡œ ë¡œê·¸ì¸
        document.getElementById('password').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                login();
            }
        });
    </script>
</body>
</html>
